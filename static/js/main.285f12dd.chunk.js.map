{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Spinner/Spinner.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Spinner/Spinner.jsx","components/Modal/Modal.jsx","services/ApiService.jsx","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","props","useState","value","setValue","className","s","SearchForm","onSubmit","e","preventDefault","trim","alert","prevSearchQuery","onSearch","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","ImageGallery","children","ImageGalleryItem","gallery","map","item","src","webformatURL","alt","tags","ImageGalleryItemImage","onClick","onImageClick","id","Button","buttonWrapper","Spinner","wrapper","color","height","width","timeout","modalRoot","document","getElementById","Modal","onEscButton","code","onClose","useEffect","window","addEventListener","removeEventListener","image","createPortal","Overlay","largeImageURL","ApiService","search","page","fetch","then","res","json","App","showSpinner","setShowSpinner","searchQuery","setSearchQuery","showModal","setShowModal","pageNumber","setPageNumber","setGallery","showButton","setShowButton","biggerImage","setBiggerImage","fetchImages","hits","length","prev","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","console","log","finally","toggleModal","imageObj","ReactDOM","render","StrictMode"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,cAAgB,gC,mBCAlED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,QAAU,2B,uCCA5BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,mCAAmC,mBAAmB,sC,iICiDvRC,MA7Cf,SAAmBC,GACjB,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAuBA,OACE,wBAAQC,UAAWC,IAAEN,UAArB,SACE,uBAAMK,UAAWC,IAAEC,WAAYC,SAnBd,SAAAC,GAGnB,GAFAA,EAAEC,iBAEmB,KAAjBP,EAAMQ,OAGR,OAFAC,MAAM,6BACNR,EAAS,IAGPD,EAAMQ,SAAWV,EAAMY,iBAK3BZ,EAAMa,SAASX,GACfC,EAAS,KALPQ,MAAM,yDAUN,UACE,wBAAQG,KAAK,SAASV,UAAWC,IAAEU,iBAAnC,SACE,sBAAMX,UAAWC,IAAEW,sBAAnB,sBAGF,uBACEZ,UAAWC,IAAEY,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTjB,MAAOA,EACPkB,YAAY,2BACZC,SAnCS,SAAAb,GACfL,EAASK,EAAEc,OAAOpB,gB,iBCLPqB,EAFM,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAAkB,oBAAIpB,UAAWC,IAAEkB,aAAjB,SAAgCC,K,gBCyBxDC,MAzBf,SAA0BzB,GACxB,OAAIA,EAAM0B,QACD1B,EAAM0B,QAAQC,KAAI,SAAAC,GACvB,OACE,oBAAkBxB,UAAWC,IAAEoB,iBAA/B,SACE,qBACEI,IAAKD,EAAKE,aACVC,IAAKH,EAAKI,KACV5B,UAAWC,IAAE4B,sBACbC,QAAS,WACPlC,EAAMmC,aAAaP,OANhBA,EAAKQ,OAchB,6BACE,iD,iBCTOC,EAXA,SAAC,GAAiB,IAAfH,EAAc,EAAdA,QAChB,OACE,qBAAK9B,UAAWC,IAAEiC,cAAlB,SACE,yBAAQxB,KAAK,SAASoB,QAASA,EAAS9B,UAAWC,IAAEgC,OAArD,UACG,IADH,kB,0CCYSE,EAbC,WACd,OACE,qBAAKnC,UAAWC,IAAEmC,QAAlB,SACE,cAAC,IAAD,CACE1B,KAAK,WACL2B,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,S,iBCRXC,EAAYC,SAASC,eAAe,cA4B3BC,MA1Bf,SAAehD,GACb,IAAMiD,EAAc,SAAAzC,GACH,WAAXA,EAAE0C,MACJlD,EAAMmD,WAIVC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWL,GAC5B,WACLI,OAAOE,oBAAoB,UAAWN,OAI1C,IAAQE,EAAmBnD,EAAnBmD,QAASK,EAAUxD,EAAVwD,MAEjB,OAAOC,uBACL,qBAAKrD,UAAWC,IAAEqD,QAASxB,QAASiB,EAApC,SACE,qBAAK/C,UAAWC,IAAE2C,MAAlB,SACE,qBAAKnB,IAAK2B,EAAMG,cAAe5B,IAAKyB,EAAMxB,WAG9Ca,ICrBWe,MANf,SAAoBC,EAAQC,GAE1B,OAAOC,MAAM,8BAAD,OACoBF,EADpB,iBACmCC,EADnC,gBADG,qCACH,yDAEVE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,WCsFLC,MAhFf,WACE,MAAsClE,oBAAS,GAA/C,mBAAOmE,EAAP,KAAoBC,EAApB,KACA,EAAsCpE,mBAAS,MAA/C,mBAAOqE,EAAP,KAAoBC,EAApB,KACA,EAAkCtE,oBAAS,GAA3C,mBAAOuE,EAAP,KAAkBC,EAAlB,KACA,EAAoCxE,mBAAS,GAA7C,mBAAOyE,EAAP,KAAmBC,EAAnB,KACA,EAA8B1E,mBAAS,IAAvC,mBAAOyB,EAAP,KAAgBkD,EAAhB,KACA,EAAoC3E,oBAAS,GAA7C,mBAAO4E,EAAP,KAAmBC,EAAnB,KACA,EAAsC7E,mBAAS,MAA/C,mBAAO8E,EAAP,KAAoBC,EAApB,KAEMC,EAAc,WAClBZ,GAAe,GAEfT,EAAWU,EAAaI,GACrBV,MAAK,SAAAC,GACoB,IAApBA,EAAIiB,KAAKC,QACXL,GAAc,GACdnE,MAAM,yCACGsD,EAAIiB,KAAKC,OAAS,GAC3BL,GAAc,GAEdA,GAAc,GAGhBF,GAAW,SAAAQ,GAAI,4BAAQA,GAAR,YAAiBnB,EAAIiB,UAChCR,EAAa,GACfrB,OAAOgC,SAAS,CACdC,IAAKxC,SAASyC,gBAAgBC,aAC9BC,SAAU,cAIfC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAEbG,SAAQ,WACPzB,GAAe,OAIrBjB,qBAAU,WACY,OAAhBkB,IAGJW,IACAN,GAAc,SAAAS,GAAI,OAAIA,EAAO,QAC5B,CAACd,IAEJ,IAgBMyB,EAAc,WAClBtB,GAAa,SAAAW,GAAI,OAAKA,MAGxB,OACE,qCACE,cAAC,EAAD,CAAWvE,SAtBe,SAAAyD,GAC5BM,EAAW,IACXL,EAAeD,GACfK,EAAc,IAmBgC/D,gBAAiB0D,IAC7D,cAAC,EAAD,UACE,cAAC,EAAD,CAAkB5C,QAASA,EAASS,aAbrB,SAAA6D,GACnBhB,EAAegB,GACfD,SAYkB,IACf3B,GAAe,cAAC,EAAD,IACfS,GAAc,cAAC,EAAD,CAAQ3C,QArBR,WACjB+C,IACAN,GAAc,SAAAS,GAAI,OAAIA,EAAO,QAoB1BZ,GAAa,cAAC,EAAD,CAAOrB,QAAS4C,EAAavC,MAAOuB,QC/ExDkB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrD,SAASC,eAAe,U,kBCT1BlD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,gDAAgD,yBAAyB,oD","file":"static/js/main.285f12dd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__DqcdD\",\"buttonWrapper\":\"Button_buttonWrapper__1_thq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1y8we\",\"Modal\":\"Modal_Modal__G5XNN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__fcHSa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Spinner_wrapper__1x5M5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3olGl\",\"SearchForm\":\"Searchbar_SearchForm__17gWF\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1EFmR\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1aXzx\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2jCk-\",\"SearchForm-input\":\"Searchbar_SearchForm-input__Bm9f4\"};","import { useState } from 'react';\r\nimport s from './Searchbar.module.css';\r\n// import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction Searchbar(props) {\r\n  const [value, setValue] = useState('');\r\n\r\n  const onChange = e => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (value.trim() === '') {\r\n      alert('Enter text to search');\r\n      setValue('');\r\n      return;\r\n    }\r\n    if (value.trim() === props.prevSearchQuery) {\r\n      alert('You already see a result, enter a NEW search request');\r\n      return;\r\n    }\r\n\r\n    props.onSearch(value);\r\n    setValue('');\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          value={value}\r\n          placeholder=\"Search images and photos\"\r\n          onChange={onChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => <ul className={s.ImageGallery}>{children}</ul>;\r\n\r\nexport default ImageGallery;\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem(props) {\r\n  if (props.gallery) {\r\n    return props.gallery.map(item => {\r\n      return (\r\n        <li key={item.id} className={s.ImageGalleryItem}>\r\n          <img\r\n            src={item.webformatURL}\r\n            alt={item.tags}\r\n            className={s.ImageGalleryItemImage}\r\n            onClick={() => {\r\n              props.onImageClick(item);\r\n            }}\r\n          />\r\n        </li>\r\n      );\r\n    });\r\n  } else {\r\n    return (\r\n      <li>\r\n        <h3>start search</h3>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import s from './Button.module.css';\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div className={s.buttonWrapper}>\r\n      <button type=\"button\" onClick={onClick} className={s.Button}>\r\n        {' '}\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport s from './Spinner.module.css';\r\nconst Spinner = () => {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <Loader\r\n        type=\"TailSpin\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default Spinner;\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nfunction Modal(props) {\r\n  const onEscButton = e => {\r\n    if (e.code === 'Escape') {\r\n      props.onClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', onEscButton);\r\n    return () => {\r\n      window.removeEventListener('keydown', onEscButton);\r\n    };\r\n  });\r\n\r\n  const { onClose, image } = props;\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={onClose}>\r\n      <div className={s.Modal}>\r\n        <img src={image.largeImageURL} alt={image.tags} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","function ApiService(search, page) {\r\n  const apiKey = '22940171-5681176a4d1601b312f680141';\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${search}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(res => res.json());\r\n}\r\nexport default ApiService;\r\n","import { useState, useEffect } from 'react';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport Button from './components/Button/Button';\nimport Spinner from './components/Spinner/Spinner';\nimport Modal from './components/Modal/Modal';\nimport ApiService from './services/ApiService';\n\nfunction App() {\n  const [showSpinner, setShowSpinner] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [gallery, setGallery] = useState([]);\n  const [showButton, setShowButton] = useState(false);\n  const [biggerImage, setBiggerImage] = useState(null);\n\n  const fetchImages = () => {\n    setShowSpinner(true);\n\n    ApiService(searchQuery, pageNumber)\n      .then(res => {\n        if (res.hits.length === 0) {\n          setShowButton(false);\n          alert('Found nothing!!!! Try one more time!');\n        } else if (res.hits.length < 12) {\n          setShowButton(false);\n        } else {\n          setShowButton(true);\n        }\n\n        setGallery(prev => [...prev, ...res.hits]);\n        if (pageNumber > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .finally(() => {\n        setShowSpinner(false);\n      });\n  };\n\n  useEffect(() => {\n    if (searchQuery === null) {\n      return;\n    }\n    fetchImages();\n    setPageNumber(prev => prev + 1);\n  }, [searchQuery]);\n\n  const handleSearchbarSubmit = searchQuery => {\n    setGallery([]);\n    setSearchQuery(searchQuery);\n    setPageNumber(1);\n  };\n\n  const onShowMore = () => {\n    fetchImages();\n    setPageNumber(prev => prev + 1);\n  };\n\n  const onImageClick = imageObj => {\n    setBiggerImage(imageObj);\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setShowModal(prev => !prev);\n  };\n\n  return (\n    <>\n      <Searchbar onSearch={handleSearchbarSubmit} prevSearchQuery={searchQuery} />\n      <ImageGallery>\n        <ImageGalleryItem gallery={gallery} onImageClick={onImageClick} />\n      </ImageGallery>{' '}\n      {showSpinner && <Spinner />}\n      {showButton && <Button onClick={onShowMore} />}\n      {showModal && <Modal onClose={toggleModal} image={biggerImage} />}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import Modal from './components/Modal/Modal';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1i828\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3MBPv\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3Mj-5\"};"],"sourceRoot":""}