{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Spinner/Spinner.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Spinner/Spinner.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","value","onChange","e","setState","target","handleSubmit","preventDefault","trim","alert","props","onSearch","className","s","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","gallery","map","item","src","webformatURL","alt","tags","ImageGalleryItemImage","onClick","onImageClick","id","Button","buttonWrapper","Spinner","wrapper","color","height","width","timeout","modalRoot","document","getElementById","Modal","onEscButton","code","onClose","window","addEventListener","removeEventListener","image","console","log","createPortal","Overlay","largeImageURL","App","showSpinner","searchQuery","showModal","pageNumber","apiKey","showButton","biggerImage","fetchImages","fetch","then","res","json","hits","length","prev","catch","error","finally","handleSearchbarSubmit","onShowMore","imageObj","toggleModal","prevProps","prevState","pageCount","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.92f31df5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__YJcSb\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2g-Ct\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3kdxZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2Tw3D\",\"buttonWrapper\":\"Button_buttonWrapper__1Q8bo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__139ur\",\"Modal\":\"Modal_Modal__2CBXy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__KBGga\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Spinner_wrapper__2PhpZ\"};","import { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n// import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nclass Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.value.trim() === '') {\r\n      alert('Enter text to search');\r\n      this.setState({ value: '' });\r\n      return;\r\n    }\r\n\r\n    this.props.onSearch(this.state.value);\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            value={this.state.value}\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => <ul className={s.ImageGallery}>{children}</ul>;\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    if (this.props.gallery) {\r\n      return this.props.gallery.map(item => {\r\n        return (\r\n          <li key={item.id} className={s.ImageGalleryItem}>\r\n            <img\r\n              src={item.webformatURL}\r\n              alt={item.tags}\r\n              className={s.ImageGalleryItemImage}\r\n              onClick={() => {\r\n                this.props.onImageClick(item);\r\n              }}\r\n            />\r\n          </li>\r\n        );\r\n      });\r\n    } else {\r\n      return (\r\n        <li>\r\n          <h3>start search</h3>\r\n        </li>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import s from './Button.module.css';\r\nconst Button = ({ onClick }) => {\r\n  // window.scrollTo({\r\n  //   top: document.documentElement.scrollHeight,\r\n  //   behavior: 'smooth',\r\n  // });\r\n  return (\r\n    <div className={s.buttonWrapper}>\r\n      <button type=\"button\" onClick={onClick} className={s.Button}>\r\n        {' '}\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport s from './Spinner.module.css';\r\nconst Spinner = () => {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <Loader\r\n        type=\"TailSpin\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default Spinner;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onEscButton);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onEscButton);\r\n  }\r\n  onEscButton = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  // handleCloseModal = e => {\r\n  //   if (e.target === e.currentTarget) {\r\n  //     this.props.onClose();\r\n  //   }\r\n  // };\r\n\r\n  render() {\r\n    const { onClose, image } = this.props;\r\n    console.log(image);\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={onClose}>\r\n        <div className={s.Modal}>\r\n          <img src={image.largeImageURL} alt={image.tags} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\n// import s from './App.module.css';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport Button from './components/Button/Button';\nimport Spinner from './components/Spinner/Spinner';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    showSpinner: false,\n    searchQuery: null,\n    showModal: false,\n    pageNumber: 1,\n    apiKey: '22940171-5681176a4d1601b312f680141',\n    gallery: [],\n    showButton: false,\n    biggerImage: null,\n  };\n  fetchImages = () => {\n    this.setState({ showSpinner: true });\n    fetch(\n      `https://pixabay.com/api/?q=${this.state.searchQuery}&page=${this.state.pageNumber}&key=${this.state.apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n      .then(res => res.json())\n      .then(res => {\n        if (res.hits.length === 0) {\n          alert('Found nothing!!!! Try one more time!');\n        } else if (res.hits.length < 12) {\n          this.setState({ showButton: false });\n        } else {\n          this.setState({ showButton: true });\n        }\n\n        this.setState(prev => ({ gallery: [...prev.gallery, ...res.hits] }));\n        console.log(res.hits);\n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .finally(() => {\n        this.setState({ showSpinner: false });\n      });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n      this.setState({ pageNumber: this.state.pageNumber + 1 });\n    }\n  }\n\n  handleSearchbarSubmit = searchQuery => {\n    this.setState({ gallery: [] });\n    this.setState({ searchQuery });\n    this.setState({ pageNumber: 1 });\n  };\n\n  onShowMore = () => {\n    this.fetchImages();\n    this.setState({ pageNumber: this.state.pageNumber + 1 });\n  };\n\n  onImageClick = imageObj => {\n    this.setState({ biggerImage: imageObj });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSearch={this.handleSearchbarSubmit} />\n        <ImageGallery>\n          <ImageGalleryItem\n            gallery={this.state.gallery}\n            pageCount={this.pageCount}\n            onImageClick={this.onImageClick}\n          />\n        </ImageGallery>{' '}\n        {this.state.showSpinner && <Spinner />}{' '}\n        {this.state.showButton && <Button onClick={this.onShowMore} />}\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal} image={this.state.biggerImage} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import Modal from './components/Modal/Modal';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1ZlT1\",\"SearchForm\":\"Searchbar_SearchForm__1dj57\",\"SearchFormButton\":\"Searchbar_SearchFormButton__w8KRP\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3910l\",\"SearchFormInput\":\"Searchbar_SearchFormInput__38bMq\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1qU3h\"};"],"sourceRoot":""}